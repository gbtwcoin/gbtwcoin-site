<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GBTW • Retro Arcade Theme</title>
  <style>
    :root{
      --ui-z:4;      /* HUD/title/buttons */
      --meteor-z:2;  /* meteors canvas */
      --sprite-z:1;  /* pixel sprites */
      --stars-z:0;   /* starfield canvas */
      --overlay-z:5; /* CRT scanlines */
    }
    body {
      margin: 0;
      height: 100%;
      background: #0c0c0f;
      font-family: 'Press Start 2P', monospace;
      color: #ffde59;
      text-align: center;
      overflow: hidden;
    }

    /* HUD / Title / Buttons (stay above FX) */
    h1 {
      font-size: 36px;
      margin-top: 15%;
      color: #ff3af2;
      text-shadow: 3px 3px 0px #000, 0 0 12px #ff3af2;
      position: relative; z-index: var(--ui-z);
    }
    h2 {
      font-size: 20px;
      color: #00e5ff;
      text-shadow: 2px 2px 0px #000, 0 0 10px #00e5ff;
      position: relative; z-index: var(--ui-z);
    }
    .btn {
      display: inline-block;
      border: 3px solid #ffde59;
      color: #ffde59;
      padding: 14px 24px;
      margin: 20px;
      text-transform: uppercase;
      text-decoration: none;
      transition: transform .1s;
      background: #1a1a20;
      box-shadow: 0 0 12px #ffde59;
      position: relative; z-index: var(--ui-z);
    }
    .btn:hover { transform: scale(1.08); background: #2a2a32; }
    .hud, .hud-right {
      position: absolute; top: 10px; font-size: 14px; color: #a64dff;
      z-index: var(--ui-z);
    }
    .hud { left: 20px; }
    .hud-right { right: 20px; }
    .hearts { margin-top: 30px; font-size: 18px; color: #ffde59; position: relative; z-index: var(--ui-z); }

    /* CRT Scanline Overlay */
    body:after {
      content: "";
      position: fixed; inset: 0;
      background: repeating-linear-gradient(to bottom, rgba(255,255,255,0.05) 0px, rgba(0,0,0,0.05) 2px);
      pointer-events: none; mix-blend-mode: overlay; z-index: var(--overlay-z);
    }

    /* Layered canvases */
    canvas.starfield { position: fixed; inset: 0; display:block; z-index: var(--stars-z); pointer-events:none; }
    canvas.meteorfield { position: fixed; inset: 0; display:block; z-index: var(--meteor-z); pointer-events:none; }

    /* Animated pixel sprites (behind UI, above stars) */
    .sprite-layer{ position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index: var(--sprite-z); }
    .sprite{ position:absolute; will-change:transform,opacity; image-rendering:pixelated;
             filter:drop-shadow(0 0 6px rgba(255,255,255,.25)); }
    .sprite svg{ width:48px; height:48px }

    /* Random wander animation using CSS vars for deltas */
    @keyframes wander {
      0%   { transform: translate(var(--x), var(--y)) scale(var(--s)) rotate(0deg); opacity:0; }
      8%   { opacity:1; }
      50%  { transform: translate(calc(var(--x) + var(--dx)*0.5), calc(var(--y) + var(--dy)*0.5)) scale(var(--s)) rotate(5deg); }
      100% { transform: translate(calc(var(--x) + var(--dx)), calc(var(--y) + var(--dy))) scale(var(--s)) rotate(10deg); opacity:0; }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Background FX -->
  <canvas class="starfield" id="stars"></canvas>
  <canvas class="meteorfield" id="meteors"></canvas>
  <div class="sprite-layer" id="sprites"></div>

  <!-- UI -->
  <div class="hud">1 UP  25000</div>
  <div class="hud-right">2 UP  03200</div>

  <h1>GBTW TOKEN</h1>
  <h2>GET BACK TO WORK</h2>

  <div>
    <a href="#" class="btn">BUY</a>
    <a href="#" class="btn">CHART</a>
    <a href="#" class="btn">TELEGRAM</a>
  </div>

  <div class="hearts">♥ ♥ ♥</div>

  <!-- Pixel sprite templates -->
  <template id="tpl-coin">
    <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <rect width="16" height="16" fill="none"/>
      <rect x="5" y="2" width="6" height="12" fill="#ffde59"/>
      <rect x="4" y="3" width="8" height="10" fill="#ffd000"/>
      <rect x="6" y="5" width="4" height="6" fill="#ffb800"/>
      <rect x="7" y="6" width="2" height="4" fill="#ff9a00"/>
      <rect x="4" y="3" width="8" height="1" fill="#fff3b0"/>
    </svg>
  </template>

  <template id="tpl-rocket">
    <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <rect width="16" height="16" fill="none"/>
      <!-- body -->
      <rect x="7" y="4" width="4" height="6" fill="#9ad0ff"/>
      <rect x="6" y="5" width="1" height="4" fill="#ff3af2"/>
      <rect x="11" y="5" width="1" height="4" fill="#ff3af2"/>
      <!-- nose -->
      <rect x="8" y="3" width="2" height="1" fill="#c7e6ff"/>
      <!-- fins -->
      <rect x="6" y="8" width="1" height="2" fill="#a64dff"/>
      <rect x="11" y="8" width="1" height="2" fill="#a64dff"/>
      <!-- flame -->
      <rect x="8" y="10" width="2" height="1" fill="#ffde59"/>
      <rect x="8" y="11" width="2" height="1" fill="#ff9a00"/>
    </svg>
  </template>

  <script>
  // === Parallax Starfield (behind sprites) ===
  (function(){
    const c = document.getElementById('stars');
    const ctx = c.getContext('2d');
    let w,h,dpr = Math.min(devicePixelRatio || 1, 2);

    function resize(){
      w = c.width = Math.floor(innerWidth * dpr);
      h = c.height = Math.floor(innerHeight * dpr);
      c.style.width = innerWidth + 'px';
      c.style.height = innerHeight + 'px';
      init();
    }
    addEventListener('resize', resize, {passive:true});

    const layers = [
      {n: 140, sp: 0.05, a: 0.55, sz: 1.0},
      {n: 100, sp: 0.03, a: 0.75, sz: 1.6},
      {n:  70, sp: 0.015,a: 0.9,  sz: 2.2}
    ];
    let stars = [];

    function init(){
      stars = [];
      for(const L of layers){
        for(let i=0;i<L.n;i++){
          stars.push({
            x: Math.random()*w,
            y: Math.random()*h,
            dx: (Math.random()*2-1) * L.sp * dpr,  // random direction
            dy: (Math.random()*2-1) * L.sp * 0.6 * dpr,
            a: L.a,
            sz: L.sz
          });
        }
      }
    }

    function tick(){
      ctx.clearRect(0,0,w,h);
      for(const s of stars){
        s.x += s.dx; s.y += s.dy;
        if (s.x>w+3) s.x = -3;
        if (s.x<-3)  s.x =  w+3;
        if (s.y<-3)  s.y =  h+3;
        if (s.y>h+3) s.y = -3;

        ctx.globalAlpha = s.a;
        ctx.fillStyle = '#cfe6ff';
        const size = s.sz * dpr;
        ctx.fillRect(s.x, s.y, size, size);
      }
      ctx.globalAlpha = 1;
      requestAnimationFrame(tick);
    }

    resize();
    requestAnimationFrame(tick);
  })();

  // === Meteors with Fire Trails (above stars, below UI) ===
  (function(){
    const c = document.getElementById('meteors');
    const ctx = c.getContext('2d');
    let w,h,dpr=Math.min(devicePixelRatio||1,2);

    function resize(){
      w=c.width=Math.floor(innerWidth*dpr);
      h=c.height=Math.floor(innerHeight*dpr);
      c.style.width=innerWidth+'px';
      c.style.height=innerHeight+'px';
    }
    addEventListener('resize', resize, {passive:true}); resize();

    const meteors=[];
    function spawnMeteor(){
      const speed = (3 + Math.random()*3) * dpr;
      const angle = (-Math.PI/3) + (Math.random()*Math.PI/8); // mostly down-right streak
      const len   = 60 + Math.random()*80;
      const x0 = -50*dpr;
      const y0 = Math.random()*h*0.7 + h*0.1;
      meteors.push({
        x:x0, y:y0,
        vx: Math.cos(angle)*speed,
        vy: Math.sin(angle)*speed,
        life: 1, len
      });
      if (meteors.length>12) meteors.shift();
    }
    setInterval(spawnMeteor, 2200 + Math.random()*1800);

    function draw(){
      ctx.clearRect(0,0,w,h);
      for(const m of meteors){
        // Trail
        const tx = m.x - m.vx * m.len * 0.6;
        const ty = m.y - m.vy * m.len * 0.6;
        const g = ctx.createLinearGradient(m.x, m.y, tx, ty);
        g.addColorStop(0, `rgba(255,220,120,${0.9*m.life})`);
        g.addColorStop(0.4, `rgba(255,140,40,${0.6*m.life})`);
        g.addColorStop(1, `rgba(255,80,0,0)`);
        ctx.strokeStyle = g;
        ctx.lineWidth = 3*dpr;
        ctx.beginPath(); ctx.moveTo(m.x, m.y); ctx.lineTo(tx, ty); ctx.stroke();

        // Head
        ctx.fillStyle = `rgba(255,240,180,${m.life})`;
        ctx.beginPath(); ctx.arc(m.x, m.y, 3.2*dpr, 0, Math.PI*2); ctx.fill();

        m.x += m.vx; m.y += m.vy; m.life *= 0.985;
      }
      requestAnimationFrame(draw);
    }
    requestAnimationFrame(draw);
  })();

  // === Pixel Sprite Spawner (random directions, behind UI) ===
  (function(){
    const layer = document.getElementById('sprites');
    const tplCoin = document.getElementById('tpl-coin');
    const tplRocket = document.getElementById('tpl-rocket');

    function spawn(kind){
      const el = document.createElement('div');
      el.className = 'sprite';

      // Start anywhere slightly off-screen bounds
      const startX = (Math.random()*120 - 10) + 'vw'; // -10vw .. 110vw
      const startY = (Math.random()*120 - 10) + 'vh'; // -10vh .. 110vh
      el.style.setProperty('--x', startX);
      el.style.setProperty('--y', startY);

      // Travel deltas in any direction (bigger range horizontally than vertically)
      const dx = (Math.random()*160 - 80) + 'vw'; // -80vw .. 80vw
      const dy = (Math.random()*100 - 50) + 'vh'; // -50vh .. 50vh
      el.style.setProperty('--dx', dx);
      el.style.setProperty('--dy', dy);

      // Scale & duration
      el.style.setProperty('--s', (0.7 + Math.random()*0.9));
      const dur = 12 + Math.random()*14; // 12–26s
      el.style.animation = `wander ${dur}s linear forwards`;
      el.innerHTML = (kind==='coin'? tplCoin.content.cloneNode(true): tplRocket.content.cloneNode(true)).firstElementChild.outerHTML;

      layer.appendChild(el);
      el.addEventListener('animationend', ()=> el.remove());
    }

    // Initial gentle scatter
    for(let i=0;i<6;i++){ setTimeout(()=>spawn(Math.random()<0.6?'coin':'rocket'), i*450); }
    // Continuous: lower rate so they don't bunch up
    setInterval(()=> spawn(Math.random()<0.65?'coin':'rocket'), 3200);
  })();
  </script>
</body>
</html>
